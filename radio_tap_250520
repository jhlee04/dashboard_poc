
1. tab1ê³¼ tab2 êµ¬ì¡°ë¥¼ st.radio() íƒ­ìœ¼ë¡œ ë³€ê²½ (ìœ„ì¹˜: ë³¸ë¬¸ ìƒë‹¨)


2. íƒ­ì— ë”°ë¼ ì‚¬ì´ë“œë°” í•„í„°ë¥¼ ë‹¤ë¥´ê²Œ í‘œì‹œ


3. tab2ì—ì„œëŠ” ì¤‘ì /ì¼ë°˜ ê³¼ì œ ëª¨ë‘ íšŒì˜ë¡ ê¸°ë°˜ìœ¼ë¡œ í‘œì‹œ (CSV íŒŒì¼ ë¶„ë¦¬)




---

âœ… ì „ì²´ ì½”ë“œ ë³€í™” ìš”ì•½

â‘  ë¼ë””ì˜¤ íƒ­ ì¶”ê°€ (ë³¸ë¬¸ ìƒë‹¨)

st.title("ğŸ“‹ ê³¼ì œ ëŒ€ì‹œë³´ë“œ")

selected_tab = st.radio(
    label="íƒ­ ì„ íƒ",
    options=["ğŸ“Š ì›”ë³„ ì •ëŸ‰ ëŒ€ì‹œë³´ë“œ", "ğŸ“ íšŒì˜ë¡ ê¸°ë°˜ ê³¼ì œ í˜„í™©"],
    horizontal=True,
    label_visibility="collapsed"
)


---

â‘¡ ì‚¬ì´ë“œë°” í•„í„°: íƒ­ì— ë”°ë¼ ë¶„ê¸°

with st.sidebar:
    if selected_tab == "ğŸ“Š ì›”ë³„ ì •ëŸ‰ ëŒ€ì‹œë³´ë“œ":
        st.header("ğŸ“… ì›”ë³„ í•„í„°")
        selected_month = st.selectbox("ì›” ì„ íƒ", sorted(df["ì›”"].unique()), key="month_tab1")
    
    elif selected_tab == "ğŸ“ íšŒì˜ë¡ ê¸°ë°˜ ê³¼ì œ í˜„í™©":
        st.header("ğŸ—‚ íšŒì˜ë¡ í•„í„°")

        selected_category = st.radio("ê³¼ì œ êµ¬ë¶„", ["ì¤‘ì ê³¼ì œ", "ì¼ë°˜ê³¼ì œ"], horizontal=True, key="category_tab2")

        # LLMìš© ë°ì´í„° íŒŒì¼ ì„ íƒ
        file_map = {
            "ì¤‘ì ê³¼ì œ": "report_llm_core.csv",
            "ì¼ë°˜ê³¼ì œ": "report_llm_general.csv"
        }
        llm_df = pd.read_csv(file_map[selected_category])

        selected_dept = st.selectbox("ë¶€ì„œ", ["ì „ì²´"] + sorted(llm_df["ë¶€ì„œ"].dropna().unique()), key="dept_tab2")
        if selected_dept == "ì „ì²´":
            team_options = sorted(llm_df["íŒ€"].dropna().unique())
        else:
            team_options = sorted(llm_df[llm_df["ë¶€ì„œ"] == selected_dept]["íŒ€"].dropna().unique())
        selected_team = st.selectbox("íŒ€", ["ì „ì²´"] + team_options, key="team_tab2")

        filtered_task_pool = llm_df.copy()
        if selected_dept != "ì „ì²´":
            filtered_task_pool = filtered_task_pool[filtered_task_pool["ë¶€ì„œ"] == selected_dept]
        if selected_team != "ì „ì²´":
            filtered_task_pool = filtered_task_pool[filtered_task_pool["íŒ€"] == selected_team]

        selected_tasks = st.multiselect("ğŸ“Œ ê³¼ì œ ì„ íƒ", sorted(filtered_task_pool["ê³¼ì œëª…"].dropna().unique()), key="task_tab2")

        show_all_meetings = st.checkbox("ğŸ“† ì „ì²´ íšŒì˜ íë¦„ ë³´ê¸°", value=False)


---

â‘¢ ë³¸ë¬¸ ë‚´ìš©: íƒ­ì— ë”°ë¼ ë‚´ìš© í‘œì‹œ

if selected_tab == "ğŸ“Š ì›”ë³„ ì •ëŸ‰ ëŒ€ì‹œë³´ë“œ":
    st.subheader(f"ğŸ“Š ì •ëŸ‰ ê¸°ë°˜ ëŒ€ì‹œë³´ë“œ â€“ {selected_month}")
    # ì—¬ê¸°ì— ê¸°ì¡´ tab1 ë‚´ìš© ë³µì‚¬ (filtered_df = df[df["ì›”"] == selected_month] ...)

elif selected_tab == "ğŸ“ íšŒì˜ë¡ ê¸°ë°˜ ê³¼ì œ í˜„í™©":
    st.subheader(f"ğŸ“ {selected_category} íšŒì˜ë¡ ê¸°ë°˜ ê³¼ì œ í˜„í™©")

    # í•„í„° ì ìš©
    filtered_llm = llm_df.copy()
    if selected_dept != "ì „ì²´":
        filtered_llm = filtered_llm[filtered_llm["ë¶€ì„œ"] == selected_dept]
    if selected_team != "ì „ì²´":
        filtered_llm = filtered_llm[filtered_llm["íŒ€"] == selected_team]
    if selected_tasks:
        filtered_llm = filtered_llm[filtered_llm["ê³¼ì œëª…"].isin(selected_tasks)]

    filtered_llm = filtered_llm.sort_values("íšŒì˜ì¼", ascending=False)
    if not show_all_meetings:
        filtered_llm = filtered_llm.drop_duplicates(subset=["ê³¼ì œëª…"], keep="first")

    # ìš”ì•½ ì¶œë ¥ (ë‹¹ì‹  ì½”ë“œ ê·¸ëŒ€ë¡œ ìœ ì§€)
    if not filtered_llm.empty:
        ...
    else:
        st.warning("ì¡°ê±´ì— ë§ëŠ” íšŒì˜ë¡ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.")


---

âœ… êµ¬ì¡° ìš”ì•½ ê·¸ë¦¼

[ğŸ“‹ ê³¼ì œ ëŒ€ì‹œë³´ë“œ]          â† st.title()

[ ğŸ“Š ì›”ë³„ ì •ëŸ‰ | ğŸ“ íšŒì˜ë¡ ê¸°ë°˜ ]    â† st.radio()

â–¶ ì‚¬ì´ë“œë°”
   â”” íƒ­1ì´ë©´ ì›” í•„í„°
   â”” íƒ­2ì´ë©´ ê³¼ì œ êµ¬ë¶„ + ë¶€ì„œ/íŒ€/ê³¼ì œëª… + íë¦„ë³´ê¸° ì²´í¬ë°•ìŠ¤

â–¶ ë³¸ë¬¸ ë‚´ìš©
   â”” íƒ­1ì´ë©´ KPI ì‹œê°í™”
   â”” íƒ­2ì´ë©´ íšŒì˜ ìš”ì•½, ì•¡ì…˜ ì•„ì´í…œ


---

